// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("WBMS_DB_URL")
}
// generator nestjsDto {
// provider = "prisma-generator-nestjs-dto"
// output = "../src/gen"
// outputToNestJsResourceStructure = "true"
// }
// generator prismaClassGenerator {
//   provider               = "prisma-class-generator"
//   output                 = "../src/_gen/prisma-class"
//   dryRun                 = "false"
//   separateRelationFields = "false"
//   useUndefinedDefault    = "true"
// }

model Province {
  id String @id @default(uuid()) @db.Char(36)

  name String @db.VarChar(30)

  isDeleted    Boolean  @default(false) @map("is_deleted")
  userCreated  String?   @db.Char(36)  @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  cities City[]
  @@map("provinces")
}

model City {
  id         String @id @default(uuid()) @db.Char(36)
  provinceId String @db.Char(36) @map("province_id")

  name String @db.VarChar(30)

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)   @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  province Province @relation(fields: [provinceId], references: [id])

  sites     Site[]
  customers Customer[]
  @@map("cities")
}


model Image {
  id        String  @id @default(uuid()) @db.Char(36)
  path      String
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")
}

model Company {
  id      String  @id @default(uuid()) @db.Char(36)
  refType Int     @default(0) @map("ref_type")//0: WBMS, 1: eDispatch
  refId   String? @db.VarChar(50) @map("ref_id")

  code         String  @db.VarChar(50)
  codeSap      String? @db.VarChar(50)  @map("code_sap")
  name         String  @db.VarChar(50)
  shortName    String? @db.VarChar(50)  @map("short_name")
  address      String? @db.VarChar(250)
  addressExt   String? @db.VarChar(250) @map("address_ext")
  postalCode   String? @db.VarChar(10) @map("postal_code")
  country      String? @db.VarChar(30)
  province     String? @db.VarChar(30)
  city         String? @db.VarChar(30)
  phone        String? @db.VarChar(30)
  url          String? @db.VarChar(100)
  contactName  String? @db.VarChar(50) @map("contact_name")
  contactEmail String? @db.VarChar(30) @map("contact_email")
  contactPhone String? @db.VarChar(30) @map("contact_phone")

  isMillOperator Boolean @default(false) @map("is_mill_operator")
  isTransporter  Boolean @default(false)  @map("is_transporter")
  isSiteOperator Boolean @default(false)  @map("is_site_operator")
  isEstate       Boolean @default(false) @map("is_estate")

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)   @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  sites             Site[]
  transportVehicles TransportVehicle[]
  mills             Mill[]
  Driver            Driver[]
  Transaction       Transaction[]
  StorageTank       StorageTank[]
  @@map("companies")
}

model Customer {
  id              String @id @default(uuid()) @db.Char(36)
  customerTypeId  String @db.Char(36) @map("customer_type_id")
  customerGroupId String @db.Char(36) @map("customer_group_id")
  cityId          String @db.Char(36) @map("city_id")
  // barcodeTypeId   String? @db.Char(36)

  code         String  @db.VarChar(50)
  codeSap      String? @db.VarChar(50) @map("code_sap")
  name         String  @db.VarChar(50)
  shortName    String? @db.VarChar(50) @map("short_name")
  address      String? @db.VarChar(250)
  addressExt   String? @db.VarChar(250) @map("Address_ext")
  postalCode   String? @db.VarChar(10)  @map("postal_code")
  phone        String? @db.VarChar(30)
  url          String? @db.VarChar(100)
  contactName  String? @db.VarChar(50) @map("contact_name")
  contactEmail String? @db.VarChar(30) @map("contact_email")
  contactPhone String? @db.VarChar(30) @map("contact_phone")
  sortasi      Float? //Decimal

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)   @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  customerType  CustomerType  @relation(fields: [customerTypeId], references: [id])
  customerGroup CustomerGroup @relation(fields: [customerGroupId], references: [id])
  city          City          @relation(fields: [cityId], references: [id])
  // barcodeType   BarcodeType?   @relation(fields: [barcodeTypeId], references: [id])
  @@map("customers")
}

model CustomerType {
  id String @id @default(uuid()) @db.Char(36)

  name        String  @db.VarChar(50)
  shortDesc   String? @db.VarChar(100) @map("short_description")
  description String? @db.VarChar(500)

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)   @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  customers Customer[]
  @@map("customer_types")
}

model CustomerGroup {
  id String @id @default(uuid()) @db.Char(36)

  name        String  @db.VarChar(50)
  shortDesc   String? @db.VarChar(100) @map("short_description")
  description String? @db.VarChar(500)

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)   @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  customers Customer[]
  @@map("customer_groups")
}

model BarcodeType {
  id String @id @default(uuid()) @db.Char(36)

  name        String  @db.VarChar(50)
  shortDesc   String? @db.VarChar(100) @map("short_description")
  description String? @db.VarChar(500)

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)   @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")
  @@map("barcode_types")
  // customers Customer[]
}

model Site {
  id      String  @id @default(uuid()) @db.Char(36)
  refType Int     @default(0)  @map("ref_type")
  refId   String? @db.VarChar(50) @map("ref_id")

  sourceSiteId    String? @db.Char(36) @map("source_site_id")
  sourceSiteRefId String? @db.VarChar(50) @map("source_site_ref_id")
  sourceSiteName  String? @db.VarChar(50) @map("source_site_name")

  companyId    String? @db.Char(36)  @map("company_id")
  companyRefId String? @db.VarChar(50) @map("company_ref_id")
  companyName  String  @db.VarChar(50) @map("company_name")

  cityId String? @db.Char(36) @map("city_id")

  code        String  @db.VarChar(50)
  codeSap     String? @db.VarChar(50)   @map("code_sap")
  name        String  @db.VarChar(50)
  shortName   String? @db.VarChar(50) @map("short_name")
  description String? @db.VarChar(500)

  latitude         Float?
  longitude        Float?
  solarCalibration Int?

  isMill Boolean @default(false)

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.VarChar(36)  @map("user_created")
  userModified String?   @db.VarChar(36) @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  sourceSite Site?    @relation("source_of_this_site", fields: [sourceSiteId], references: [id])
  company    Company? @relation(fields: [companyId], references: [id])
  city       City?    @relation(fields: [cityId], references: [id])

  storageTanks StorageTank[]
  weighbridges Weighbridge[]
  mills        Mill[]

  destinationSites Site[] @relation("source_of_this_site")

  originSiteTransactions      Transaction[] @relation("transactionOriginSite")
  destinationSiteTransactions Transaction[] @relation("transactionDestinationSite")
  configs     Config[]
  @@map("sites")
}

model Mill {
  id        String @id @default(uuid()) @db.Char(36)
  siteId    String @db.Char(36) @map("site_id")
  companyId String @db.Char(36)  @map("company_id")

  code String @db.VarChar(50)
  name String @db.VarChar(50)

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)   @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  site    Site    @relation(fields: [siteId], references: [id])
  company Company @relation(fields: [companyId], references: [id])
  @@map("mills")
}

model Weighbridge {
  id     String @id @default(uuid()) @db.Char(36)
  siteId String @db.Char(36) @map("site_id")

  code String @db.VarChar(50)
  name String @db.VarChar(50)

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)  @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  site Site @relation(fields: [siteId], references: [id])
  @@map("weighbridges")
}


enum ConfigType {
  boolean
  string
  number
  bigint
  array
  object
}

enum Status {
  ACTIVE
  DISABLED
  PENDING
  APPROVED
  REJECTED
}

model ConfigRequest {
  id Int   @id @default(autoincrement())
  lvl1Aprrover String @map("lvl_1_aprrover")
  lvl2Approver String? @map("lvl_2_aprrover")
  lvl3Aprrover String? @map("lvl_3_aprrover")
  lvl1Signed String @map("lvl_1_signed")
  lvl2Signed String? @map("lvl_2_signed")
  lvl3Signed String? @map("lvl_3_signed")
  configId   Int
}

model Config {
  id           Int   @id @default(autoincrement())
  name         String  @unique @db.VarChar(36)
  description  String   @db.VarChar(255)
  type         ConfigType?
  value        String?  @db.VarChar(36)
  editedValue  String?  @db.VarChar(36)
  lvlOfApprvl  Int      @map("level_of_approval")

  status       Status  
  start        DateTime 
  end          DateTime
  sites        Site[]
  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)  @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")
  @@map("configuration")
}

model User {
  id      String @id @default(uuid()) @db.Char(36)

  username String  @unique @db.VarChar(30)
  email    String  @unique @db.VarChar(50)
  nik      String  @unique @db.VarChar(30)
  name     String  @db.VarChar(50)
  phone    String? @db.VarChar(30)
  division String  @db.VarChar(30)
  position String  @db.VarChar(30)

  profilePic String

  roleId         Int @map("role_id")
  role           String  @db.VarChar(36)
  hashedPassword String  @db.VarChar(100) @map("hashed_password")
  hashedRT       String? @db.VarChar(100) @map("hashed_rt")

  isEmailVerified Boolean @default(false) @map("is_email_verified")
  isLDAPUser      Boolean @default(true) @map("is_ldap_user")
  isDisabled      Boolean @default(false) @map("is_disabled")
  isDeleted       Boolean @default(false)  @map("is_deleted")

  userCreated  String?   @db.VarChar(36)  @map("user_created")
  userModified String?   @db.VarChar(36) @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")
  userRole         Role?     @relation(fields: [roleId], references: [id])
  @@map("users")
}

model Role {
  id          Int          @id @default(autoincrement())
  name        String       @unique @db.VarChar(255)
  permissions Permission[]

  userCreated  String?   @db.VarChar(36)  @map("user_created")
  userModified String?   @db.VarChar(36) @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")
  users       User[]
  @@map("roles")
}

model Permission {
  id       String  @id @default(uuid()) @db.Char(36)
  resource String  @db.Char(36)
  grants   Grant[]
  roleId   Int    @map("role_id")
  role     Role    @relation(fields: [roleId], references: [id])
  
  userCreated  String?   @db.VarChar(36)  @map("user_created")
  userModified String?   @db.VarChar(36)  @map("user_modified")
  dtCreated    DateTime @default(now())  @map("date_created")
  dtModified   DateTime? @updatedAt       @map("date_modified")
  @@map("permissions")
}

model Grant {
  id           String     @id @default(uuid()) @db.Char(36)
  action       String
  possession    String
  attributes   Attribute[]
  permissionId String     @db.Char(36) @map("permission_id")
  permission   Permission @relation(fields: [permissionId], references: [id])
  
  userCreated  String?   @db.VarChar(36)  @map("user_created")
  userModified String?   @db.VarChar(36) @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")
  @@map("grants")
}
model Attribute {
  id      String     @id @default(uuid()) @db.Char(36)
  attr    String     
  grantId String     @db.Char(36) @map("grant_id")
  grant   Grant      @relation(fields: [grantId], references: [id])
  @@map("attributes")
}

enum Resource {
  barcodeTypes
  cities
  companies
  configs
  customerGroups
  customers
  customerType
  driver
  mills
  products
  ProductGroups
  provinces
  semai
  sites
  storageTanks
  transactions
  transportVehicles
  users
  weighbridges
}

enum MainSite {
  PKS
  T30
  Labanan
}


model Product {
  id      String  @id @default(uuid()) @db.Char(36)
  refType Int     @default(0)  @map("ref_type")
  refId   String? @db.VarChar(50) @map("ref_id")

  productGroupName String?

  code          String  @db.VarChar(50)
  codeSap       String? @db.VarChar(50)   @map("code_sap")
  name          String  @db.VarChar(50)
  shortName     String? @db.VarChar(50) @map("short_name")
  description   String? @db.VarChar(500)
  certification String? @db.VarChar(100)

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)  @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  storageTanks      StorageTank[]
  transactions      Transaction[]
  transportVehicles TransportVehicle[]
  @@map("products")
}

model ProductGroup {
  id String @id @default(uuid()) @db.Char(36)

  name        String  @db.VarChar(50)
  shortDesc   String? @db.VarChar(100) @map("short_description")
  description String? @db.VarChar(500)

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)  @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")
  @@map("product_groups")
}

model StorageTank {
  id      String  @id @default(uuid()) @db.Char(36)
  refType Int     @default(0)  @map("ref_type")
  refId   String? @db.VarChar(50) @map("ref_id")

  siteId    String? @db.Char(36) @map("site_id")
  siteRefId String? @db.VarChar(50) @map("site_ref_id")
  siteName  String  @db.VarChar(50) @map("site_name")

  stockOwnerId    String? @db.Char(36) @map("stock_owner_id")
  stockOwnerRefId String? @db.VarChar(50) @map("stock_owner_ref_id")
  stockOwnerName  String? @db.VarChar(50) @map("stock_owner_name")

  productId    String? @db.Char(36) @map("product_id")
  productRefId String? @db.VarChar(50) @map("product_ref_id")
  productName  String? @db.VarChar(50) @map("product_name")

  code        String  @db.VarChar(50)
  codeSap     String  @db.VarChar(50)   @map("code_sap")
  name        String  @db.VarChar(50)
  shortName   String? @db.VarChar(50) @map("short_name")
  description String? @db.VarChar(500)
  capacity    Float?
  height      Float?
  sccModel    Int     @default(0)

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)  @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  site       Site?    @relation(fields: [siteId], references: [id])
  stockOwner Company? @relation(fields: [stockOwnerId], references: [id])
  product    Product? @relation(fields: [productId], references: [id])

  originSourceStorageTankTransactions    Transaction[] @relation("transactionOriginStorageTank")
  destinationSinkStorageTankTransactions Transaction[] @relation("transactionDestinationStorageTank")
  @@map("storage_tanks")
}

model Driver {
  id      String  @id @default(uuid()) @db.Char(36)
  refType Int     @default(0)  @map("ref_type")
  refId   String? @db.VarChar(50) @map("ref_id")
  codeSap String  @db.VarChar(50)   @map("code_sap")

  companyId    String? @db.Char(36) @map("company_id")
  companyRefId String? @db.VarChar(50) @map("company_ref_id")
  companyName  String  @db.VarChar(50) @map("company_name")

  nik     String  @unique @db.VarChar(30)
  name    String  @db.VarChar(50)
  address String? @db.VarChar(250)
  email   String? @db.VarChar(30)
  phone   String? @db.VarChar(30)

  licenseNo String?   @db.VarChar(30) @map("license_no")
  licenseED DateTime? @map("license_ed")

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)  @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  company      Company?      @relation(fields: [companyId], references: [id])
  transactions Transaction[]
  @@map("drivers")
}

model TransportVehicle {
  id      String  @id @default(uuid()) @db.Char(36)
  refType Int     @default(0)  @map("ref_type")
  refId   String? @db.VarChar(50) @map("ref_id")
  codeSap String  @db.VarChar(50) @map("code_sap")

  companyId    String? @db.Char(36)  @map("company_id")
  companyRefId String? @db.VarChar(50) @map("company_ref_id")
  companyName  String  @db.VarChar(50) @map("company_name")

  productId    String? @db.Char(36) @map("product_id")
  productRefId String? @db.VarChar(50) @map("product_ref_id")
  productName  String  @db.VarChar(50) @map("product_name")
  productCode  String  @db.VarChar(50) @map("product_code")

  plateNo  String  @db.VarChar(10) @map("plate_no")
  capacity Float?
  brand    String? @db.VarChar(30)
  model    String? @db.VarChar(30)
  sccModel Int     @default(0) @map("scc_model")
  notes    String? @db.VarChar(1000)

  licenseED DateTime? @map("license_ed")
  keurED    DateTime? @map("keur_ed")

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.Char(36)  @map("user_created")
  userModified String?   @db.Char(36)  @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  company Company? @relation(fields: [companyId], references: [id])
  product Product? @relation(fields: [productId], references: [id])
  @@map("transportation_vehicles")
}

model Transaction {
  id    String @id @default(uuid()) @db.Char(36)
  tType Int    @default(1) @map("transaction_type")

  bonTripNo      String? @db.Char(16) @map("bon_trip_no")
  vehicleStatus  Int     @default(0) @map("vehicle_status")
  deliveryStatus Int     @default(0) @map("delivery_status")
  progressStatus Int     @default(0) @map("progress_status")

  deliveryOrderId String?   @db.Char(36) @map("delivery_order_id")
  deliveryOrderNo String?   @db.VarChar(50) @map("delivery_order_no")
  deliveryDate    DateTime? @map("delivery_date")

  productId   String? @db.Char(36) @map("product_id")
  productCode String? @db.VarChar(30) @map("product_code")
  productName String? @db.VarChar(50) @map("product_name")

  rspoSccModel     Int     @default(0) @map("rspo_scc_model")
  rspoUniqueNumber String? @db.VarChar(50) @map("rspo_unique_number")
  isccSccModel     Int     @default(0) @map("iscc_scc_model")
  isccUniqueNumber String? @db.VarChar(50) @map("iscc_unique_number")
  isccGhgValue     Float   @default(0) @map("iscc_ghg_value")
  isccEeeValue     Float   @default(0) @map("iscc_eee_value")

  transporterId               String? @db.Char(36) @map("transporter_id")
  transporterCompanyCode      String? @db.VarChar(30) @map("transporter_company_code")
  transporterCompanyName      String? @db.VarChar(50) @map("transporter_company_name")
  transporterCompanyShortName String? @db.VarChar(30) @map("transporter_company_short_name")

  driverId        String? @db.Char(36) @map("driver_id")
  driverNik       String? @db.VarChar(30) @map("driver_nik")
  driverName      String? @db.VarChar(50) @map("driver_name")
  driverLicenseNo String? @db.VarChar(30) @map("driver_license_no")

  transportVehicleId          String? @db.Char(36) @map("transport_vehicle_id")
  transportVehiclePlateNo     String? @db.VarChar(10) @map("transport_vehicle_plate_no")
  transportVehicleProductCode String? @db.VarChar(30) @map("transport_vehicle_product_code")
  transportVehicleProductName String? @db.VarChar(50) @map("transport_vehicle_product_name")
  transportVehicleSccModel    Int?     @default(0) @map("transport_vehicle_scc_model")

  originSiteId   String? @db.Char(36) @map("origin_site_id")
  originSiteCode String? @db.VarChar(30) @map("origin_site_code")
  originSiteName String? @db.VarChar(50) @map("origin_site_name")

  originSourceStorageTankId   String? @db.Char(36) @map("origin_source_storage_tank_id")
  originSourceStorageTankCode String? @db.VarChar(30) @map("origin_source_storage_tank_code")
  originSourceStorageTankName String? @db.VarChar(50) @map("origin_source_storage_tank_name")

  destinationSiteId   String? @db.Char(36) @map("destination_site_id")
  destinationSiteCode String? @db.VarChar(30) @map("destination_site_code")
  destinationSiteName String? @db.VarChar(50) @map("destination_site_name")

  destinationSinkStorageTankId   String? @db.Char(36) @map("destination_sink_storage_tank_id")
  destinationSinkStorageTankCode String? @db.VarChar(30) @map("destination_sink_storage_tank_code")
  destinationSinkStorageTankName String? @db.VarChar(50) @map("destination_sink_storage_tank_name")

  originFfaPercentage   Float @default(0) @map("origin_ffa_percentage")
  originMoistPercentage Float @default(0) @map("origin_moist_percentage")
  originDirtPercentage  Float @default(0) @map("origin_dirt_percentage")

  originWeighInKg           Float     @default(0) @map("origin_weigh_in_kg")
  originWeighInRemark       String?   @db.VarChar(500) @map("origin_weigh_in_remark")
  originWeighInOperatorName String?   @db.VarChar(50) @map("origin_weigh_in_operator_name")
  originWeighInTimestamp    DateTime? @map("origin_weigh_in_timestamp")

  originWeighOutKg           Float     @default(0) @map("origin_weigh_out_kg")
  originWeighOutRemark       String?   @db.VarChar(500) @map("origin_weigh_out_remark")
  originWeighOutOperatorName String?   @db.VarChar(50) @map("origin_weigh_out_operator_name")
  originWeighOutTimestamp    DateTime? @map("origin_weigh_out_timestamp")

  potonganWajib Float @default(0) @map("potongan_wajib")
  potonganLain  Float @default(0) @map("potongan_lain")

  destinationWeighInKg           Float     @default(0) @map("destination_weigh_in_kg")
  destinationWeighInRemark       String?   @db.VarChar(500) @map("destination_weigh_in_remark")
  destinationWeighInOperatorName String?   @db.VarChar(50) @map("destination_weigh_in_operator_name")
  destinationWeighInTimestamp    DateTime? @map("destination_weigh_in_timestamp")

  destinationWeighOutKg           Float     @default(0) @map("destination_weigh_out_kg")
  destinationWeighOutRemark       String?   @db.VarChar(500) @map("destination_weigh_out_remark")
  destinationWeighOutOperatorName String?   @db.VarChar(50) @map("destination_weigh_out_operator_name")
  destinationWeighOutTimestamp    DateTime? @map("destination_weigh_out_timestamp")

  returnWeighInKg           Float     @default(0) @map("return_weigh_in_kg")
  returnWeighInRemark       String?   @db.VarChar(500) @map("return_weigh_in_remark")
  returnWeighInOperatorName String?   @db.VarChar(50) @map("return_weigh_in_operator_name")
  returnWeighInTimestamp    DateTime? @map("return_weigh_in_timestamp")

  returnWeighOutKg           Float     @default(0) @map("return_weigh_out_kg")
  returnWeighOutRemark       String?   @db.VarChar(500) @map("return_weigh_out_remark")
  returnWeighOutOperatorName String?   @db.VarChar(50) @map("return_weigh_out_operator_name")
  returnWeighOutTimestamp    DateTime? @map("return_weigh_out_timestamp")

  currentSeal1 String? @db.VarChar(30) @map("current_seal_1")
  currentSeal2 String? @db.VarChar(30) @map("current_seal_2")
  currentSeal3 String? @db.VarChar(30) @map("current_seal_3")
  currentSeal4 String? @db.VarChar(30) @map("current_seal_4")

  loadedSeal1         String?   @db.VarChar(30) @map("loaded_seal_1")
  loadedSeal2         String?   @db.VarChar(30) @map("loaded_seal_2")
  loadedSeal3         String?   @db.VarChar(30) @map("loaded_seal_3")
  loadedSeal4         String?   @db.VarChar(30) @map("loaded_seal_4")
  loadingRemark       String?   @db.VarChar(500) @map("loading_remark")
  loadingOperatorName String?   @db.VarChar(50) @map("loading_operator_name")
  loadingTimestamp    DateTime? @map("loading_timestamp")

  unloadedSeal1         String?   @db.VarChar(30) @map("unloaded_seal_1")
  unloadedSeal2         String?   @db.VarChar(30) @map("unloaded_seal_2")
  unloadedSeal3         String?   @db.VarChar(30) @map("unloaded_seal_3")
  unloadedSeal4         String?   @db.VarChar(30) @map("unloaded_seal_4")
  unloadingRemark       String?   @db.VarChar(500) @map("unloading_remark")
  unloadingOperatorName String?   @db.VarChar(50) @map("unloading_operator_name")
  unloadingTimestamp    DateTime? @map("unloading_timestamp")

  returnUnloadedSeal1         String?   @db.VarChar(30) @map("return_unloaded_seal_1")
  returnUnloadedSeal2         String?   @db.VarChar(30) @map("return_unloaded_seal_2")
  returnUnloadedSeal3         String?   @db.VarChar(30) @map("return_unloaded_seal_3")
  returnUnloadedSeal4         String?   @db.VarChar(30) @map("return_unloaded_seal_4")
  returnUnloadingRemark       String?   @db.VarChar(500) @map("return_unloading_remark")
  returnUnloadingOperatorName String?   @db.VarChar(50) @map("return_unloading_operator_name")
  returnUnloadingTimestamp    DateTime? @map("return_unloading_timestamp")

  jsonData Json?

  isDeleted    Boolean  @default(false)  @map("is_deleted")
  userCreated  String?   @db.VarChar(36)  @map("user_created")
  userModified String?   @db.VarChar(36) @map("user_modified")
  dtCreated    DateTime @default(now()) @map("date_created")
  dtModified   DateTime? @updatedAt  @map("date_modified")

  product     Product? @relation(fields: [productId], references: [id])
  transporter Company? @relation(fields: [transporterId], references: [id])
  driver      Driver?  @relation(fields: [driverId], references: [id])

  originSite      Site? @relation(fields: [originSiteId], references: [id], name: "transactionOriginSite")
  destinationSite Site? @relation(fields: [destinationSiteId], references: [id], name: "transactionDestinationSite")

  originSourceStorageTank    StorageTank? @relation("transactionOriginStorageTank", fields: [originSourceStorageTankId], references: [id])
  destinationSinkStorageTank StorageTank? @relation("transactionDestinationStorageTank", fields: [destinationSinkStorageTankId], references: [id])
  @@map("transactions")
}
